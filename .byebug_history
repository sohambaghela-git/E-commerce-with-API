c
expect(user.cart.persisted?)
c
expect(user.cart).count
(user.cart).count
user.cart
user
c
Cart.count
user.cart.present?
user.cart.persisted?
user.cart.persist?
user.cart.exist?
user.cart
user.cart.count
user
c
@current_user  = User.find(decoded[:user_id])
User.find(decoded[:user_id])
@current_user = User.find(decoded[:user_id])
decoded =jwt_decode(header)
jwt_decode(header)
header
header.split('').last if header
header.split('').last if heade
header.split('').last
header = request.headers["token"]
request
request.headers['token']
headers['token']
headers[''token]
headers[:token]
headers
params
c
params
c
params
c
params
params[:controller]
params[:controller
authorize= user_role[@current_user.role]
authorize= user_role[@current_user.role][params[:controller]]
authorize= user_role[@current_user.role]
user_role[@current_user.role]
user_role
user_role[c]
c=@current_user
@current_user
user_role["#{@current_user}"]
user_role[@current_user]
@current_user
authorize user_role[@current_user.role]
authorize = user_role[@current_user.role][params[:controller]]
user_role = YAML.load(File.read(Rails.root.to_s + '/config/roles.yml'))
user_role
c
self.role == 'buyer'
self.role == 'seller'
self.role == 'roller'
self.role
self
continue
self
c
params
c
params
Error occurred while parsing request parameters
ActionDispatch::Http::Parameters
params
user_params
params
